\documentclass[12pt, b5paper,twoside]{tesi_upf_new}
%\documentclass[12pt, b5paper,twoside]{book}


%CODIFICATION
\usepackage[latin1]{inputenc}


%LENGUAGE
\usepackage[english,catalan]{babel}

%ONLY TO OBTAIN MARK BANK INDEX INDICATION B5
\usepackage[b5paper]{geometry}
\usepackage[cam,a4,center,frame]{crop}

%INCLUDE GRAPHICS AND THE LOGO OF THE UPF
\usepackage{graphicx}

%FONTS TIMES OR GARAMOND, 
\usepackage{times}
%\usepackage{garamond}

%COHERENCE ESTIMATION
\usepackage{graphicx}% Include figure files
\usepackage{dcolumn}% Align table columns on decimal point
\usepackage{bm}% bold math
\usepackage{latexsym}% 
\usepackage{lineno}   
\usepackage{array}
\usepackage{adjustbox}
\usepackage{amsmath,amsfonts,amssymb,amsthm}
\usepackage{newpxtext} 
\usepackage{cite}
\usepackage{booktabs}

% COMMENT THESE FOR TESI_UPF
\usepackage{hyperref}
\hypersetup{pdftex,colorlinks=true,allcolors=blue}
\usepackage{hypcap}

%SELD
\DeclareMathOperator{\LL}{\langle}
\DeclareMathOperator{\RR}{\rangle}
\usepackage{graphicx,url,times,booktabs, tabularx}
\usepackage{array}
\usepackage{booktabs}
\usepackage{algorithm, algorithmic}
\usepackage{color}
\usepackage{subcaption}

\usepackage[none]{hyphenat}
\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000



\usepackage[titletoc]{appendix}


%WITHOUT HEADINGS: NO MODIFICATION
\pagestyle{plain}

%FOR THE INDEX OF SUBJECTS
\usepackage{makeidx}
\makeindex

%BIBLIOGRAPHY STYLE
\bibliographystyle{apalike}


%SELECT LANGUAGE
\selectlanguage{english}

%THE TABLE OF CONTENTS IS TITLE CONTENTS
%\addto\captionscatalan
  {\renewcommand{\contentsname}{\Large \sffamily Contents}}


%ADD YOUR DATA
%\title{Ambisonic domain methods for immersive audio production enhancement}
\title{Parametric analysis of ambisonic audio}
\subtitle{Contributions to methods, applications and data generation}
\author{Author: Andrés Pérez López}

% TODO UNCOMMENT FOLOWING
\thyear{2020}
\department{of Information and Communication Technologies}
\supervisor{Dr. Adan Garriga Torres\\Dr. Emilia Gómez Gutiérrez}

% TODO
\newcommand\todo[1]{\textcolor{red}{#1}}

% INTEGRAL D
\newcommand{\dif}{\mathop{}\!\mathrm{d}}




\begin{document}


\frontmatter

\maketitle

\cleardoublepage


%%%%%% Dedication

\noindent To my cat

\cleardoublepage

%%%%%% End dedication


%%%%%% Thanks
\noindent {\Large \sffamily Thanks}

First of all

Adan, eurecat

Emilia, upf

nikos, archontis, tuomas

max

rafa


pe;a de barcelona
marta


\cleardoublepage

%%%%%% End of thanks

%ABSTRACT IN TWO LEGUAGES. 150 words max!!!
\selectlanguage{english}
\section*{\Large \sffamily Abstract}

%Recent years have witnessed a rise in immersive multimedia content, as a result of the developments in Virtual and Augmented Reality, where spatial audio plays a crucial role for the creation of a realistic experience. 
%Ambisonic microphones allow the recording of sound scenes while preserving their spatial characteristics. For that reason, ambisonic has turned into the \textit{de facto} standard for immersive audio transmission. Yet, few production tools exploit all the information available in such media.   
%In the present thesis we raise the research question of obtaining meaningful information from ambisonic recordings, based on the parametric analysis of the sound field.
%In order to answer the question we have developed different state-of-the-art methods, which cover a broad range of applications within the parametric audio analysis scope. 
%Specifically, we present novel contributions in the scope of blind reverberation time estimation, diffuseness estimation, and sound event localization and detection. Furthermore, several software tools developed for dataset generation and storage are also presented. 

Due to the recent advances in virtual and augmented reality, ambisonics has emerged as the \textit{de facto} standard for immersive audio.
Ambisonic audio can be captured using spherical microphone arrays, which are becoming increasingly popular.
Yet, many methods for acoustic and microphone array signal processing are not specifically tailored for spherical geometries.
Therefore, there is still room for improvement in the field of automatic analysis and description of ambisonic recordings. 
In the present thesis, we tackle this problem using methods based on the parametric analysis of the sound field. 
Specifically, we present novel contributions in the scope of blind reverberation time estimation, diffuseness estimation, and sound event localization and detection. 
Furthermore, several software tools developed for ambisonic dataset generation and management are also presented. 


\selectlanguage{catalan}
\vspace*{\fill}
\section*{\Large \sffamily  Resum}



\textit{Ambisonics} ha esdevingut l'estàndard d'àudio immersiu als últims anys, afavorit pels avançaments en realitat virtual i augmentada.
L'àudio \textit{ambisonic} es pot obtindre mitjançant \textit{arrays} de micròfons esfèrics, que són cada vegada més populars.
Tot i això, la majoria de mètodes acústics i de processament de senyal basats en \textit{arrays} de micròfons no estan adaptats al cas específic de geometries esfèriques.
Per tant, encara hi ha moltes possibilitats de millora en l'àmbit d'anàlisi automàtica i descripció de gravacions \textit{ambisonic}.
En la present tesi plantegem aquest problema basant-nos en l'anàlisi paramètrica del camp acústic.
Més concretament, presentem contribucions originals en les àrees d'estimació de reverberació, estimació de difusió acústica, i detecció i localització d'esdeveniments sonors.
Així mateix, presentem diverses eines de programari desenvolupades per la generació i manteniment de bases de dades d'àudio \textit{ambisonic}.

 



%Els micròfons ambisonics permeten gravar escenes sonores preservant les seues característiques espacials. A causa d'això, ambisonics s'ha convertit en l'estàndard de facto per a la transmissió d'àudio immersiu. No obstant això, encara son poques les eines de producció que permeten explotar tota la informació disponible en aquest mitjà.
%En la present tesi plantegem la pregunta de com obtenir informació rellevant de gravacions ambisonics de manera automàtica, basant-nos en l'an\`alisi param\`etric del camp ac\'ustic. 
%%d'una forma que siga significativa per als productors.
%Per a això, hem desenvolupat una sèrie de mètodes i eines a nivell de l'estat de l'art, 
%que cobreixen un ampli espectre d'aplicaciones a l'\`ambit de l'an\`alisi param\`etric del so. 
%%que s'apliquen a diferents nivells de la cadena de producció de so immersiu; cadascun d'aquests elements representa una contribució nova a l'estat de l'art en aquest camp.
%
%%En los últimos años hemos asistido al auge del contenido multimedia immersivo, auspiciado por los avances en Realidad Virtual y Aumentada. En este medio, el sonido espacial juega un papel muy importante para la creación de una sensación de realismo.
%%
%%Los micrófonos ambisonics permiten grabar escenas sonoras preservando sus características espaciales.
%%Debido a esto, ambisonics se ha convertido en el estándar de facto para la transmisión de audio immersivo. Sin embargo, todavía hay pocas herramientas de producción que permitan explotar toda la información disponible en este medio.
%%
%%En esta tesis planteamos la pregunta de cómo obtener información relevante de grabaciones ambisonics de manera automática, de una forma significativa para los productores.
%%
%%Para ello, hemos desarrollado una serie de métodos y herramientas que se aplican a diferentes niveles de la cadena de producción de sonido immersivo; cada uno de estos elementos representa una contribución novedosa al estado del arte en ese campo. 


\vspace*{\fill}

\cleardoublepage
\selectlanguage{english}
%END OF ABSTRACT

%PREFACE. 
%{\bf Preface }
\section*{\Large \sffamily  Preface}

The present thesis has been carried out within the context of the Industrial Doctorate program from the Catalan government, as a collaboration between the Music Technology Group of the Pompeu Fabra University, and the Multimedia Unit of Eurecat, the Catalan Technology Center. 
It has been jointly supervised by Dr. Emilia Gómez and Dr. Adan Garriga. 

The industrial nature of the doctorate program implies a tendency towards the innovative application of the findings and conclusions generated during the development of the thesis. 
Therefore, one of the targets of the research performed in the context of this thesis is the stress on real-world problems, scenarios and technologies, with the aim of developing methods that could be easily adapted into applications with a high level of technology readiness. 
Moreover, there has been also an stress on research reproducibility. This has not been motivated only by an academic perspective; but also by the open research and open innovation paradigms present in our today's society.\\


The work presented here would not have been possible without the contributions from an excellent network of researchers. Apart from internal collaborations (UPF and Eurecat), two of the main contributions in the thesis followed two research visits to internationally recognized institutions: the Audio Research Group from Tampere University, Finland (Chapter~\ref{chap:rt60}), and the Signal Processing Group at the FORTH - Foundation for Research and Technology Hellas, Heraklion, Greece, (Chapter~\ref{chap:coherence}).

The alphabetical list of academic collaborators is: Eduardo Fonseca, Emilia G\'omez, Rafael Ib\'añez-Usach,  Julien de Muynke, Archontis Politis, Xavier Serra, and Nikolaos Stefanakis.




\cleardoublepage
%END OF PREFACE


%TABLE OF CONTENTS: REQUIRED
\tableofcontents

%lIST OF FIGURES; ONLY IF THERE ARE FIGURES
\listoffigures
%TO APPER THE LIST OF FIGURES IN THE TABLE OF CONTENTS 
\addcontentsline{toc}{chapter}{List of figures}

%LIST OF TABLES; ONLY IF THERE ARE TABLES
\listoftables
%TO APPEAR THE LIST OF TABLES IN THE TABLE OF CONTENTS
\addcontentsline{toc}{chapter}{List of tables}

%START THE TEXT
\mainmatter

%INSERT CHAPTERS
\input{Chapters/Introduction.tex}
\input{Chapters/ScientificBackground.tex}
\input{Chapters/ReververationTimeEstimation}
\input{Chapters/CoherenceEstimation}
\input{Chapters/SELD}
\input{Chapters/DataGeneration}
\input{Chapters/Conclusions}

\begin{appendices}
\appendixpage
\noappendicestocpagenum
\addappheadtotoc

\chapter{List of Contributions}

In the following list we show the main scientific contributions, as main author, related to this dissertation:

\begin{itemize}

	\item Peer-reviewed journal articles
	
	\textbf{"Analysis of spherical isotropic noise fields with an A-Format tetrahedral microphone"}.
	\underline{A. P\'erez-L\'opez} and N. Stefanakis.
	\textit{The Journal of the Acoustical Society of America 146.4 (2019): EL329-EL334.}

	\item Peer-reviewed conference articles

	\textbf{"Blind reverberation time estimation from ambisonic recordings"}.
	\underline{A. P\'erez-L\'opez}, A. Politis and E. G\'omez.
	Submitted to \textit{IEEE 22nd International Workshop on Multimedia Signal Processing, 2020.}\\

	\textbf{"PAPAFIL: a low complexity sound event localization and detection method with parametric particle filtering and gradient boosting".}
	\underline{A. P\'erez-L\'opez} and R. Ibañez-Usach.
	Submitted to \textit{Detection and Classification of Acoustic Scenes and Events 2020 Workshop (DCASE2020)}.\\
	
	\textbf{"A hybrid parametric-deep learning approach for sound event localization and detection".}
	\underline{A. P\'erez-L\'opez}, E. Fonseca and X. Serra.
	In \textit{Proceedings of the Detection and Classification of Acoustic Scenes and Events 2019 Workshop (DCASE2019)}.
	
	\textbf{"Ambiscaper: A tool for automatic generation and annotation of reverberant ambisonics sound scenes".}\\
	\underline{A. P\'erez-L\'opez}.
	In \textit{Proceedings of the 16th International Workshop on Acoustic Signal Enhancement (IWAENC). IEEE, 2018.}
	
	
	\item Conference engineering briefs


	\textbf{"Ambisonics directional room impulse response as a new convention of the spatially oriented format for acoustics".}
	\underline{A. P\'erez-L\'opez} and J. De Muynke.
	In \textit{Proceedings of the 144th Audio Engineering Society Convention. Audio Engineering Society, 2018.}\\
	
	\textbf{"pysofaconventions, a Python API for SOFA".}
	\underline{A. P\'erez-L\'opez}.
	In \textit{Proceedings of the 148th Audio Engineering Society Convention. Audio Engineering Society, 2020.}\\
	
	\textbf{"A Python library for multichannel acoustic signal processing".}
	\underline{A. P\'erez-L\'opez} and A. Politis.
	In \textit{Proceedings of the 148th Audio Engineering Society Convention. Audio Engineering Society, 2020.}\\
	
\end{itemize}

\newpage

Moreover, although not strictly aligned with the research direction of this thesis, the author has supervised the following publication:\\

	 \textbf{"Sound event localization and detection based on CRNN using dense rectangular filters and channel rotation data augmentation".}
	F. Ronchini, D. Arteaga and \underline{A. P\'erez-L\'opez}.
	Submitted to \textit{Detection and Classification of Acoustic Scenes and Events 2020 Workshop (DCASE2020)}.\\



\chapter{List of Software Resources}


As a result of the development of this thesis, the following open-source libraries and repositories have been produced. All of them are freely available through the author's GitHub page \cite{andresgithub} under open-source licenses. 


\begin{itemize}

	\item Software tools:

	\begin{itemize}
	
		\item \href{https://github.com/andresperezlopez/masp}{masp: Multichannel Acoustic Signal Processing library} 
		Tools for acoustic simulation and spherical array processing. 
		 
		
		\item \href{https://github.com/andresperezlopez/pysofaconventions}{pysofaconventions} Implementation of the SOFA convention in Python. 
	
		\item \href{https://github.com/andresperezlopez/AmbisonicsDRIR}{AmbisonicsDRIR}	 Ambisonic SOFA Convention proposal.

		\item \href{https://github.com/andresperezlopez/ambiscaper}{AmbiScaper} Tool for automatic generation of annotated ambisonic datasets.

	\end{itemize}
	\newpage
	\item Method implementations: 

	\begin{itemize}
		\item \href{https://github.com/andresperezlopez/ambisonic_rt_estimation}{ambisonic\_rt\_estimation} Contains the code implementing the methods described in Chapter~\ref{chap:rt60}.
	
		\item \href{https://github.com/andresperezlopez/DCASE2020}{DCASE2020} Full code implementing the SELD algorithm from Chapter~\ref{chap:seld2019}.
	
		\item \href{https://github.com/andresperezlopez/DCASE2019_task3}{DCASE2019\_task3} 
		Implementation of the method submitted to DCASE2019 (not included in this thesis). 

	\end{itemize}

\end{itemize}



\end{appendices}



%ADD BIBLIOGRAPHY
\bibliography{Bibliography/CoherenceEstimation, Bibliography/SELD.bib, 
	Bibliography/Data.bib, 
	Bibliography/AmbisonicsDRIR.bib, 
	Bibliography/ReverberationTimeEstimation.bib,
	Bibliography/Introduction.bib, 
	Bibliography/ScientificBackground.bib,
	Bibliography/Conclusion.bib}


\backmatter
\printindex

\end{document}


%NUMBER OF THE EXTERNAL PAGE EXCEPT IN THE FIRST PAGE OF EACH CAPITAL
%\usepackage{fancyhdr}
%\pagestyle{fancy}
%\fancyfoot{}
%\fancyfoot[RO]{\thepage}
%\fancyfoot[LE]{\thepage}
%
%
%%MULTIPLE INDEX
%%In the preamble
%\usepackage{multind}
%\makeindex{authors}
%%Introduction to form entries
%\index{authors}{Einstein}
%%Situation of the Index
%\printindex{authors}{Author index}
%%The \ usepakage {makeidx} \ makeindex \ printindex commands must be removed
%%You need to exacute from the command line makeindex authors